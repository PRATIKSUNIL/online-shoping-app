{"ast":null,"code":"import _regeneratorRuntime from\"F:/online/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/online/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/online/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Button}from\"react-bootstrap\";import{useHistory}from\"react-router-dom\";import'./AdminLogin.css';import Header from'../Header';import firebase from\"firebase/app\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var history=useHistory();function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(user){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://e.preventDefault()\ntry{setError(\"\");setLoading(true);history.push(\"/Admin_product\");}catch(_unused){alert(\"Failed to log in\");}setLoading(false);case 2:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}var onSubmit=function onSubmit(e){e.preventDefault();// Using Firebase\nvar provider=new firebase.auth.GoogleAuthProvider();firebase.auth().signInWithPopup(provider).then(function(result){/** @type {fb.auth.OAuthCredential} */var user=result.user;console.log(user.email+\" \"+user.uid);return user;// ...\n}).then(function(user){handleSubmit(user);}).catch(function(error){console.log(error+\"hello\");});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"abc\",children:/*#__PURE__*/_jsx(Button,{disabled:loading,className:\"admin-btn mt-2 btn-light\",type:\"submit\",onClick:onSubmit,children:\"Login with Google\"})})]});}","map":{"version":3,"sources":["F:/online/src/components/Admin/AdminLogin.js"],"names":["React","useState","Button","useHistory","Header","firebase","Login","error","setError","loading","setLoading","history","handleSubmit","user","push","alert","onSubmit","e","preventDefault","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","console","log","email","uid","catch"],"mappings":"iRAAC,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACD,OAASC,MAAT,KAAsB,iBAAtB,CAEA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAO,kBAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,cAArB,C,6IAIA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAE9B,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAA8BP,QAAQ,CAAC,KAAD,CAAtC,yCAAOQ,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAJ8B,QAMfS,CAAAA,YANe,gJAM9B,iBAA4BC,IAA5B,kHACE;AAEA,GAAI,CACFL,QAAQ,CAAC,EAAD,CAAR,CACAE,UAAU,CAAC,IAAD,CAAV,CAEAC,OAAO,CAACG,IAAR,CAAa,gBAAb,EACD,CACD,cAAM,CACJC,KAAK,CAAC,kBAAD,CAAL,CACD,CAEDL,UAAU,CAAC,KAAD,CAAV,CAbF,sDAN8B,+CAsB9B,GAAIM,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACpBA,CAAC,CAACC,cAAF,GACA;AACA,GAAIC,CAAAA,QAAQ,CAAG,GAAId,CAAAA,QAAQ,CAACe,IAAT,CAAcC,kBAAlB,EAAf,CACAhB,QAAQ,CAACe,IAAT,GACCE,eADD,CACiBH,QADjB,EAECI,IAFD,CAEM,SAACC,MAAD,CAAY,CAChB,sCAEA,GAAIX,CAAAA,IAAI,CAAGW,MAAM,CAACX,IAAlB,CAEAY,OAAO,CAACC,GAAR,CAAYb,IAAI,CAACc,KAAL,CAAW,GAAX,CAAgBd,IAAI,CAACe,GAAjC,EACA,MAAOf,CAAAA,IAAP,CACA;AACD,CAVD,EAWCU,IAXD,CAWM,SAACV,IAAD,CAAU,CACdD,YAAY,CAACC,IAAD,CAAZ,CAED,CAdD,EAeCgB,KAfD,CAeO,SAACtB,KAAD,CAAW,CAClBkB,OAAO,CAACC,GAAR,CAAYnB,KAAK,CAAE,OAAnB,EACC,CAjBD,EAmBD,CAvBD,CA0BA,mBACE,wCACA,KAAC,MAAD,IADA,cAEC,YAAK,SAAS,CAAC,KAAf,uBAEO,KAAC,MAAD,EAAQ,QAAQ,CAAEE,OAAlB,CAA2B,SAAS,CAAC,0BAArC,CAAgE,IAAI,CAAC,QAArE,CAA+E,OAAO,CAAEO,QAAxF,+BAFP,EAFD,GADF,CAYD","sourcesContent":[" import React, { useState } from \"react\"\nimport { Button} from \"react-bootstrap\"\n\nimport { useHistory } from \"react-router-dom\"\nimport './AdminLogin.css'\nimport Header from '../Header'\nimport firebase from \"firebase/app\"\n\n\n\nexport default function Login() {\n \n  const [error, setError] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const history = useHistory()\n\n  async function handleSubmit(user) {\n    //e.preventDefault()\n\n    try {\n      setError(\"\")\n      setLoading(true)\n      \n      history.push(\"/Admin_product\")\n    } \n    catch {\n      alert(\"Failed to log in\")\n    }\n\n    setLoading(false)\n  }\n\n  var onSubmit = (e) => {\n    e.preventDefault();\n    // Using Firebase\n    var provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth()\n    .signInWithPopup(provider)\n    .then((result) => {\n      /** @type {fb.auth.OAuthCredential} */\n     \n      var user = result.user;\n      \n      console.log(user.email+\" \"+ user.uid);\n      return user;\n      // ...\n    })\n    .then((user) => {\n      handleSubmit(user)\n\n    })\n    .catch((error) => {\n    console.log(error +\"hello\");\n    });\n\n  }\n  \n\n  return (\n    <>\n    <Header />\n     <div className=\"abc\">\n    {/* Button */}\n            <Button disabled={loading} className=\"admin-btn mt-2 btn-light\" type=\"submit\"  onClick={onSubmit}>\n              Login with Google\n            </Button>\n          \n      </div>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}